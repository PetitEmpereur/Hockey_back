datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id              Int       @id @default(autoincrement())
  nom             String
  prenom          String
  countryCode     String?
  email           String    @unique
  phoneNumber     String
  dateNaissance   DateTime?
  info            String?
  role            Role     @default(VISITOR)
  isAdmin       Boolean   @default(false)
  numeroLicence     String   @default("")
 
  isTermsAccepted Boolean
  substituer      Boolean   @default(false) // Subtiter Y/N
  
  suspension       Boolean  @default(false)
  createdAt       DateTime  @default(now())
  
  password        String    @default("")
}

model Match {
  id                Int           @id @default(autoincrement())
  titre             String
  dateHeure          DateTime?
  type              String?
  lieu              String
  salle             String
  prix              Int
  description       String?

  createdAt         DateTime  @default(now())
}

model Club {
  id              Int       @id @default(autoincrement())
  nom             String
  logo            String?
  dateCreation    DateTime?
  valeur          Float?
  capital         Float?
  info            String?  
}

model StatUserMatch {
  id        Int       @id @default(autoincrement())
  
  buts      Int        @default(0)
  passes    Int        @default(0)
  cartonsJaunes Int    @default(0)
  cartonsRouges Int    @default(0)
  tempsJeu  Int?       // en minutes

  createdAt DateTime   @default(now())
}

model Championnat {
  id        Int       @id @default(autoincrement())
  nom       String
  pays      String
  saison    String
}

model Classement {
  id             Int       @id @default(autoincrement())
  

  points         Int        @default(0)
  victoires      Int        @default(0)
  defaites       Int        @default(0)
  nuls           Int        @default(0)
  difference     Int        @default(0)

  updatedAt      DateTime   @updatedAt
}

model Actualite {
  id        Int       @id @default(autoincrement())
  titre     String
  contenu   String
  image     String?
  

  date      DateTime   @default(now())
}

model Entrainement  {
  id          Int      @id @default(autoincrement())
  title       String
  date        DateTime
  startTime   String
  endTime     String
  type        String   @default("technique")  
  level       String   @default("tous")       
  coach       String
  location    String
  description String?
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}


// ==================== Enum√©ration ====================
enum Role {
  COACH
  PLAYER
  VISITOR
  ADMIN
}

enum LevelT {
  Dep
  Reg
  Nat
  EU
  Inter
}

enum Post {
  Gardien
  Defenceur
  Centre
  Ailier
}

enum Categorie {
  Coatch
  Player
  Anonyme
  All
  Directeur
}

enum LevelP {
  Junior
  Senior
  Debutant
  Intermediaire
  Confirme
  The_GOAT
  Expert
}

enum Equipement {
  Cross
  Casque
  Plastron
  Protege
  Maillot
  Patins
  Accessoir_gardien
}

enum Merch {
  Maillot
  Veste
  Gobelet
  Echarpe 
}